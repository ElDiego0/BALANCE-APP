<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BALANCE</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  margin:0;
  font-family:system-ui,-apple-system;
  background:#020617;
  color:#e5e7eb;
}
header{text-align:center;padding:24px}
header img{width:72px;margin-bottom:8px}
.container{max-width:1100px;margin:auto;padding:16px}
.card{
  background:#020617;
  border:1px solid #1e293b;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px
}
button{
  background:#1e293b;
  color:white;
  border:none;
  padding:8px 12px;
  border-radius:12px;
  cursor:pointer
}
button:hover{background:#334155}
.investments button{margin:4px}
canvas{height:260px!important}
.risk{padding:4px 10px;border-radius:999px;font-size:12px;display:inline-block}
.bajo{background:#064e3b;color:#4ade80}
.medio{background:#78350f;color:#facc15}
.alto{background:#7f1d1d;color:#fb7185}
.simple{
  border-left:4px solid #38bdf8;
  padding:12px;
  margin-top:12px;
  font-size:14px
}
input,select{
  background:#020617;
  border:1px solid #334155;
  color:white;
  padding:6px;
  border-radius:8px;
  width:100%;
  margin-bottom:8px
}
</style>
</head>

<body>

<header>
  <img src="icon-512.png" alt="BALANCE">
  <h1>BALANCE</h1>
  <p>Invertir explicado fÃ¡cil</p>
</header>

<div class="container">

<div id="profileBox" class="card"></div>

<div class="card investments">
  <h3>ðŸ“Š Activos</h3>
  <div id="buttons"></div>
</div>

<div class="card">
  <h3 id="chartTitle">EvoluciÃ³n del activo</h3>
  <canvas id="chart"></canvas>
</div>

<div id="details" class="card"></div>

<div id="simulator" class="card"></div>

<div id="portfolio" class="card"></div>

</div>

<script>
/* ===== PERFIL ===== */
const profile=localStorage.getItem("investorProfile")||"moderado";
const profiles={
conservador:"BuscÃ¡s estabilidad y pocos sobresaltos.",
moderado:"BuscÃ¡s equilibrio entre crecimiento y seguridad.",
agresivo:"BuscÃ¡s crecimiento fuerte a largo plazo."
};
document.getElementById("profileBox").innerHTML=
`<h3>Tu perfil: ${profile}</h3><p>${profiles[profile]}</p>`;

/* ===== COLORES ===== */
const colors={
SPY:"#4ade80",GLD:"#facc15",QQQ:"#38bdf8",
SCHD:"#a78bfa",VT:"#22c55e",BOTZ:"#fb7185",TLT:"#c084fc"
};

/* ===== ACTIVOS ===== */
const assets={
SPY:{n:"S&P 500",r:"Medio",d:"Empresas lÃ­deres de EE.UU.",
 e:"Crece con la economÃ­a.",
 f:"Es como comprar un pedacito de las empresas mÃ¡s grandes del paÃ­s.",
 avg:10},
GLD:{n:"Oro",r:"Bajo",d:"Activo refugio.",
 e:"Protege en crisis.",
 f:"Es como guardar valor para tiempos difÃ­ciles.",
 avg:4},
QQQ:{n:"Nasdaq 100",r:"Medio-Alto",d:"Empresas tecnolÃ³gicas.",
 e:"Alta volatilidad.",
 f:"InvertÃ­s en Apple, Microsoft, Google.",
 avg:12},
SCHD:{n:"Dividendos",r:"Bajo-Medio",d:"Empresas estables.",
 e:"MÃ¡s estabilidad.",
 f:"Es como cobrar ingresos periÃ³dicos.",
 avg:7},
VT:{n:"Global Total",r:"Medio",d:"Mercado mundial.",
 e:"DiversificaciÃ³n total.",
 f:"InvertÃ­s en todo el mundo.",
 avg:8},
BOTZ:{n:"IA & RobÃ³tica",r:"Alto",d:"TecnologÃ­a futura.",
 e:"Muy volÃ¡til.",
 f:"Apuesta al futuro tecnolÃ³gico.",
 avg:15},
TLT:{n:"Bonos",r:"Bajo",d:"Bonos de EE.UU.",
 e:"Defensivo.",
 f:"PrestÃ¡s dinero y cobrÃ¡s intereses.",
 avg:3}
};

/* ===== BOTONES ===== */
const buttons=document.getElementById("buttons");
Object.keys(assets).forEach(s=>{
 const b=document.createElement("button");
 b.textContent=s;
 b.onclick=()=>selectAsset(s);
 buttons.appendChild(b);
});

/* ===== GRÃFICO ===== */
let chart;
function selectAsset(s){
 document.getElementById("chartTitle").textContent=
 `EvoluciÃ³n simulada: ${assets[s].n}`;

 if(chart) chart.destroy();
 const data=Array.from({length:60},(_,i)=>i+Math.random()*6);

 chart=new Chart(document.getElementById("chart"),{
  type:"line",
  data:{labels:data.map((_,i)=>i),
    datasets:[{data,borderColor:colors[s],tension:.4}]},
  options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}}}
 });

 const a=assets[s];
 const rc=a.r.includes("Alto")?"alto":a.r.includes("Bajo")?"bajo":"medio";

 document.getElementById("details").innerHTML=`
  <h3>${a.n}</h3>
  <span class="risk ${rc}">Riesgo ${a.r}</span>
  <p>${a.d}</p>
  <p><strong>Educativo:</strong> ${a.e}</p>
  <div class="simple">
   <strong>ðŸ‘¥ Explicado a un amigo:</strong><br>${a.f}
  </div>
 `;

 renderSimulator(a);
}

/* ===== SIMULADOR ===== */
function renderSimulator(a){
 document.getElementById("simulator").innerHTML=`
  <h3>ðŸ”® Â¿QuÃ© pasa si invierto?</h3>
  <label>Monto inicial ($)</label>
  <input id="amount" type="number" value="100000">
  <label>AÃ±os</label>
  <input id="years" type="number" value="10">
  <button onclick="simulate('${a.n}',${a.avg})">Simular</button>
  <p id="result"></p>
 `;
}

function simulate(name,avg){
 const amount=+document.getElementById("amount").value;
 const years=+document.getElementById("years").value;
 let final=amount*Math.pow(1+avg/100,years);
 document.getElementById("result").innerHTML=
 `Si invertÃ­s <strong>$${amount.toLocaleString()}</strong> en <strong>${name}</strong>
 durante <strong>${years} aÃ±os</strong>, podrÃ­as tener aproximadamente
 <strong>$${final.toLocaleString()}</strong> (promedio histÃ³rico).`;
}

/* ===== CARTERAS ===== */
const portfolios={
conservador:[
["Bonos (TLT)",50],["Oro (GLD)",20],["Dividendos (SCHD)",30]],
moderado:[
["S&P 500 (SPY)",40],["Global (VT)",30],["Dividendos (SCHD)",20],["Oro (GLD)",10]],
agresivo:[
["S&P 500 (SPY)",40],["Nasdaq (QQQ)",30],["IA (BOTZ)",20],["Oro (GLD)",10]]
};
document.getElementById("portfolio").innerHTML=`
<h3>ðŸ§© Cartera sugerida</h3>
<ul>${portfolios[profile].map(p=>`<li>${p[0]} â€” ${p[1]}%</li>`).join("")}</ul>
<small>Ejemplo educativo a largo plazo.</small>
`;

selectAsset("SPY");
</script>

</body>
</html>
